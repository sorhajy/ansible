---

- name: Install Social
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - telegram-desktop
      - thunderbird
      - pidgin


- name: Install office apps
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
    - gnome-calendar
    - libreoffice
    - scribus
    - freecad
    - librecad


- name: Install browsers
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - firefox
      - chromium
      - torbrowser-launcher
      # - https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb # ! Optional. Proprietary.


- name: Install file managing & share packages
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - transmission
      - syncthing
      - filezilla
      - meld
      - onionshare
      - persepolis


- name: Install media editor
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - blender
      # - nvidia-cuda-toolkit # ! Only for Nvidia GPU
      - gimp
      - inkscape
      - vlc
      - obs-studio
      - HandBrake-gui
      - audacity


- name: Install Remmina
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - remmina
      - remmina-plugins-rdp
      - remmina-plugins-vnc


- name: Install KVM packages
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - qemu
      - qemu-kvm
      - libvirt-daemon
      - ebtables
      - virt-manager
      - bridge-utils

- name: Enable libvirt service
  service:
    name: libvirtd
    state: started
    enabled: yes

- name: Install virtualbox
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - VirtualBox
      - kmod-VirtualBox
      - virtualbox-guest-additions

- name: Install vagrant
  dnf:
    name: vagrant
    state: present


- name: Install VPNs
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - wireguard
      - wireguard-tools
      - openconnect
      - NetworkManager-l2tp
      - NetworkManager-l2tp-gnome
      - NetworkManager-openconnect-gnome
      - NetworkManager-openvpn-gnome
      - tor
      # - i2pd

- name: Disable autoload & stop tor service
  service:
    name: tor
    state: stopped
    enabled: no

# - name: Disable autoload & stop i2p service
#   service:
#     name: i2p
#     state: stopped
#     enabled: no

# - name: Disable autoload & stop i2pd service
#   service:
#     name: i2pd
#     state: stopped
#     enabled: no

# - name: Disable autoload & stop shadowsocks service
#   service:
#     name: shadowsocks-libev
#     state: stopped
#     enabled: no

- name: Install wine & steam
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - wine
      - playonlinux
      - steam
