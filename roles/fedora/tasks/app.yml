---

- name: Install base packages
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      #* browser
      - firefox
      # - chromium
      #* system
      # - keepassxc
      - gnome-boxes
      - gnome-tweaks
      - gnome-extensions-app
      - gparted
      - wireshark
      # - kdiskmark
      # - electrum
      # - remmina
      # - remmina-plugins-kwallet
      # - remmina-plugins-rdp
      # - remmina-plugins-vnc
      # - geany
      # - deja-dup
      #* KDE
      # - yakuake
      # - gwenview
      # - okular
      # - kwrite
      # - ktorrent
      # - kget
      # - falkon
      # - ark
      # - okteta
      # - korganizer
      # - kontact
      # - konversation
      # - krusader
      # - kdiff3
      # - kdevelop
      # - kcalc
      # - kbackup
      # - kdenlive
      #* social
      # - telegram-desktop
      #* - discord
      # - thunderbird
      # - pidgin
      #* office
      # - libreoffice
      #* media
      # - audacity
      # - vlc
      # - HandBrake-gui
      # - krita
      # - gimp
      # - inkscape
      # - obs-studio
      #* files
      - syncthing
      - persepolis
      # - onionshare
      - android-file-transfer


- name: Install KVM packages
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - qemu
      - qemu-kvm
      - libvirt-daemon
      - libvirt
      - libvirt-devel
      - ebtables
      - virt-manager
      - bridge-utils

- name: Start & enable libvirt
  service:
    name: "{{ item }}"
    state: started
    enabled: yes
  with_items:
  - libvirtd-admin.socket
  - libvirtd-tls.socket
  - libvirtd.socket
  - libvirtd-ro.socket
  - libvirtd-tcp.socket
  - virtnetworkd-ro.socket
  - virtnetworkd-admin.socket
  - virtnetworkd.socket

- name: Install vagrant
  dnf:
    name: vagrant
    state: present

- name: Install wine & steam
  dnf:
    name: "{{ packages }}"
    state: present
  vars:
    packages:
      - wine
      - playonlinux
      - steam
